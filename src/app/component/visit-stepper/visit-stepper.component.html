<div class="stepper-container">
  <mat-vertical-stepper #stepper>
    <mat-step [stepControl]="selectFormGroup">
      <form [formGroup]="selectFormGroup">
        <ng-template matStepLabel>Select patient</ng-template>
        <mat-form-field>
          <mat-label>Choose patient</mat-label>
          <mat-select required formControlName="selectCtrl">
            <mat-option *ngFor="let patient of this.patients" [value]="patient.id">
              {{patient.name}} {{patient.lastName}} PESEL: {{patient.pesel}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <div>
          <button mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="caseStudyFormGroup">
      <form [formGroup]="caseStudyFormGroup">
        <ng-template matStepLabel>Case study</ng-template>
        <div class="d-flex flex-md-row flex-column">
          <mat-form-field class="textarea-visit p-1 flex-grow-1">
            <mat-label>Interview examination</mat-label>
            <textarea [maxLength]="textAreaMaxLength" matInput placeholder="Interview" formControlName="interview"
                      required></textarea>
          </mat-form-field>
          <mat-form-field class="textarea-visit p-1 flex-grow-1">
            <mat-label>Physical examination</mat-label>
            <textarea [maxLength]="textAreaMaxLength" matInput placeholder="Physical examination"
                      formControlName="physical" required></textarea>
          </mat-form-field>
        </div>
        <div>
          <button class="m-1" mat-button matStepperPrevious>Back</button>
          <button class="m-1" mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step [stepControl]="diagnosisTreatmentFormGroup">
      <form [formGroup]="diagnosisTreatmentFormGroup">
        <ng-template matStepLabel>Diagnosis and treatment</ng-template>
        <div class="d-flex flex-md-row flex-column">
          <mat-form-field class="textarea-visit p-1 flex-grow-1">
            <mat-label>Diagnosis</mat-label>
            <textarea [maxLength]="textAreaMaxLength" matInput placeholder="Diagnosis" formControlName="diagnosis"
                      required></textarea>
          </mat-form-field>
          <mat-form-field class="textarea-visit p-1 flex-grow-1">
            <mat-label>Treatment</mat-label>
            <textarea [maxLength]="textAreaMaxLength" matInput placeholder="Treatment" formControlName="treatment"
                      required></textarea>
          </mat-form-field>
        </div>
        <div>
          <button class="m-1" mat-button matStepperPrevious>Back</button>
          <button class="m-1" mat-raised-button color="primary" matStepperNext>Next</button>
        </div>
      </form>
    </mat-step>
    <mat-step>
      <ng-template matStepLabel>Done</ng-template>
      <p>Click Save button to save the visit.</p>
      <div>
        <button class="m-1" mat-stroked-button matStepperPrevious>Back</button>
        <button class="m-1" mat-stroked-button (click)="stepper.reset()">Reset</button>
        <button class="m-1" mat-raised-button color="primary" (click)="onSave()">Save</button>
      </div>
      <div>
      </div>
    </mat-step>
  </mat-vertical-stepper>
</div>
